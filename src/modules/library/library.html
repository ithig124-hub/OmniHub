<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OmniHub - Library</title>
  <link rel="stylesheet" href="library.css">
</head>
<body>
  <div id="library-container" class="library-root">
    <!-- Header with Search -->
    <div class="library-header">
      <div class="library-title-section">
        <h1 class="library-title">üìö Digital Archive</h1>
        <p class="library-subtitle">Discover, Save & Read Books from Internet Archive</p>
      </div>
      
      <div class="search-container">
        <div class="search-wrapper">
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input 
            type="text" 
            id="library-search" 
            class="search-input" 
            placeholder="Search books, authors, subjects..."
          />
          <button id="search-clear" class="search-clear" style="display: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <button id="search-button" class="search-button">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          Search
        </button>
      </div>

      <!-- Filters -->
      <div class="filter-bar">
        <select id="filter-type" class="filter-select">
          <option value="all">üìö All Types</option>
          <option value="texts">üìù Texts</option>
          <option value="collection">üìö Collections</option>
        </select>
        
        <select id="sort-by" class="filter-select">
          <option value="relevance">üéØ Relevance</option>
          <option value="date">üìÖ Date</option>
          <option value="downloads">‚¨áÔ∏è Downloads</option>
        </select>

        <div class="view-toggle">
          <button id="view-grid" class="view-btn active" title="Grid View">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="7" height="7"></rect>
              <rect x="14" y="3" width="7" height="7"></rect>
              <rect x="14" y="14" width="7" height="7"></rect>
              <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
          </button>
          <button id="view-list" class="view-btn" title="List View">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="8" y1="6" x2="21" y2="6"></line>
              <line x1="8" y1="12" x2="21" y2="12"></line>
              <line x1="8" y1="18" x2="21" y2="18"></line>
              <line x1="3" y1="6" x2="3.01" y2="6"></line>
              <line x1="3" y1="12" x2="3.01" y2="12"></line>
              <line x1="3" y1="18" x2="3.01" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Tabs -->
    <div class="library-tabs">
      <button class="tab-button active" data-tab="search">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        Search Results
      </button>
      <button class="tab-button" data-tab="my-library">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
        </svg>
        My Library
      </button>
      <button class="tab-button" data-tab="favorites">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>
        Favorites
      </button>
    </div>

    <!-- Tab Content -->
    <div class="tab-content-wrapper">
      <!-- Search Results -->
      <div id="tab-search" class="tab-content active">
        <div id="search-status" class="search-status">
          <div class="empty-state-icon">üîç</div>
          <h3 class="empty-state-title">Search for Books</h3>
          <p class="empty-state-description">Enter a title, author, or subject to discover books</p>
        </div>
        <div id="search-results" class="books-grid"></div>
      </div>

      <!-- My Library -->
      <div id="tab-my-library" class="tab-content">
        <div id="library-books" class="books-grid"></div>
      </div>

      <!-- Favorites -->
      <div id="tab-favorites" class="tab-content">
        <div id="favorite-books" class="books-grid"></div>
      </div>
    </div>

    <!-- PDF Viewer Modal -->
    <div id="pdf-viewer-modal" class="pdf-modal" style="display: none;">
      <div class="pdf-modal-content">
        <div class="pdf-modal-header">
          <h2 id="pdf-title" class="pdf-title">Book Title</h2>
          <button id="close-pdf-viewer" class="close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div class="pdf-viewer-container">
          <iframe id="pdf-iframe" class="pdf-iframe"></iframe>
        </div>
      </div>
    </div>
  </div>
  
  <script src="library.js"></script>
  <script>
    // Initialize module when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        window.LibraryModule.initModule(document.getElementById('library-container'));
      });
    } else {
      window.LibraryModule.initModule(document.getElementById('library-container'));
    }
  </script>
</body>
</html>
